// <auto-generated/>
using DDDToolkit.BaseTypes;
using System.Text.Json.Serialization;
using DDDToolkit.Abstractions.Interfaces;
using DDDToolkit.Abstractions.Attributes;
#nullable enable
#pragma warning disable CS8618 // Non-nullable field must contain a non-null value when exiting constructor. Consider declaring as nullable.
namespace DDDToolkit.ExampleLibrary.Common.ValueObjects;
partial record CatId : EntityId<Guid>
{
    protected CatId(Guid value) : base(value, "")
    {
    }

    [JsonConstructor]
    protected CatId() : base("")
    {
    }

    public virtual bool Equals(CatId? other)
    {
        if (other is null)
        {
            return false;
        }

        return GetEqualityComponents().SequenceEqual(other.GetEqualityComponents());
    }

    public override int GetHashCode()
        => base.GetHashCode();

    public static CatId CreateUnique() => new(Guid.NewGuid());  
    public ValidCatId ToValid() => new(this);
}

public partial record ValidCatId  : CatId, IAlwaysValid
{
    public ValidCatId(CatId value)
    {
        value.EnsureValidated();
        this.Value = value.Value;
        _isValid = true;
    }

    public ValidCatId(Guid value) : base(value)
    {
        EnsureValidated();
    }

    public virtual bool Equals(ValidCatId? other)
    {
        if (other is null)
        {
            return false;
        }

        return GetEqualityComponents().SequenceEqual(other.GetEqualityComponents());
    }

    public override int GetHashCode()
        => base.GetHashCode();

}

#pragma warning restore CS8618 // Non-nullable field must contain a non-null value when exiting constructor. Consider declaring as nullable.2